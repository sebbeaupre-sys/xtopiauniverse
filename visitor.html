<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Declaration of X-Topia | Visitor</title>
  <style>
    @import url("https://fonts.googleapis.com/css2?family=Exo+2:wght@400;600;700&display=swap");

    :root {
      --font-official: "Exo 2", "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      --bg: #06080b;
      --panel: #0d1219;
      --line: #203041;
      --text: #e9eef6;
      --muted: #8ea2ba;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      padding: 28px 16px 72px;
      color: var(--text);
      font-family: var(--font-official);
      background:
        radial-gradient(circle at 85% 10%, rgba(102, 200, 255, 0.12), transparent 30%),
        radial-gradient(circle at 15% 90%, rgba(102, 200, 255, 0.08), transparent 36%),
        var(--bg);
    }

    .wrap {
      width: min(1220px, 100%);
      margin: 0 auto;
    }

    .layout {
      display: grid;
      grid-template-columns: minmax(190px, 250px) 1fr minmax(190px, 250px);
      gap: 16px;
      align-items: start;
    }

    .logos {
      border: 1px solid var(--line);
      border-radius: 14px;
      background: linear-gradient(180deg, rgba(14, 19, 27, 0.9), rgba(9, 13, 19, 0.94));
      padding: 14px;
      position: sticky;
      top: 16px;
      max-height: calc(100vh - 32px);
      overflow-y: auto;
      scrollbar-gutter: stable;
      scrollbar-width: thin;
      scrollbar-color: #66c8ff #b9c3cf;
    }

    .logos::-webkit-scrollbar {
      width: 12px;
    }

    .logos::-webkit-scrollbar-track {
      background: linear-gradient(180deg, #d3dae3, #aeb9c7);
      border-radius: 10px;
    }

    .logos::-webkit-scrollbar-thumb {
      background: linear-gradient(180deg, #2f6f99, #1c4f72);
      border: 2px solid #c8d1dc;
      border-radius: 10px;
    }

    .logos::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(180deg, #3a7ea8, #245f87);
    }

    .logo {
      display: block;
      width: 100%;
      height: auto;
      object-fit: contain;
      border: 1px solid rgba(142, 162, 186, 0.22);
      border-radius: 10px;
      background: rgba(255, 255, 255, 0.01);
      padding: 8px;
      margin: 0 0 10px;
    }

    .logo:last-child {
      margin-bottom: 0;
    }

    .logo-link {
      display: block;
      margin: 0 0 10px;
      text-decoration: none;
    }

    .logo-link .logo {
      margin: 0;
    }

    .logo-link:last-child {
      margin-bottom: 0;
    }

    .logo-link:focus-visible {
      outline: 1px solid rgba(255, 255, 255, 0.75);
      outline-offset: 6px;
      border-radius: 10px;
    }

    .logo-link.is-active .logo {
      border-color: rgba(102, 200, 255, 0.8);
      box-shadow: 0 0 0 1px rgba(102, 200, 255, 0.5);
    }

    .card {
      border: 1px solid var(--line);
      border-radius: 14px;
      background: linear-gradient(180deg, rgba(14, 19, 27, 0.94), rgba(9, 13, 19, 0.96));
      box-shadow: 0 22px 44px rgba(0, 0, 0, 0.45);
      overflow: hidden;
    }

    .body {
      width: min(980px, calc(100% - 44px));
      margin: 22px auto;
      padding: 22px;
      border: 1px solid var(--line);
      border-radius: 12px;
      background: linear-gradient(180deg, rgba(14, 19, 27, 0.96), rgba(9, 13, 19, 0.98));
      box-shadow: 0 18px 36px rgba(0, 0, 0, 0.35);
    }

    h1 {
      margin: 0 0 8px;
      font-size: clamp(20px, 2.4vw, 30px);
      letter-spacing: 0.06em;
      text-transform: uppercase;
    }

    .sub {
      margin: 0 0 18px;
      color: var(--muted);
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
    }

    .body p {
      margin: 0 0 16px;
      line-height: 1.65;
      color: var(--text);
      font-size: clamp(15px, 1.6vw, 18px);
    }

    .district-panel {
      border: 1px solid var(--line);
      border-radius: 14px;
      background: linear-gradient(180deg, rgba(14, 19, 27, 0.9), rgba(9, 13, 19, 0.94));
      padding: 14px;
      position: sticky;
      top: 16px;
      max-height: calc(100vh - 32px);
      overflow-y: auto;
      scrollbar-gutter: stable;
      scrollbar-width: thin;
      scrollbar-color: #66c8ff #b9c3cf;
    }

    .district-panel::-webkit-scrollbar {
      width: 12px;
    }

    .district-panel::-webkit-scrollbar-track {
      background: linear-gradient(180deg, #d3dae3, #aeb9c7);
      border-radius: 10px;
    }

    .district-panel::-webkit-scrollbar-thumb {
      background: linear-gradient(180deg, #2f6f99, #1c4f72);
      border: 2px solid #c8d1dc;
      border-radius: 10px;
    }

    .district-panel::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(180deg, #3a7ea8, #245f87);
    }

    .district-links {
      display: grid;
      gap: 10px;
    }

    .district-link {
      display: block;
      border-radius: 10px;
      overflow: hidden;
      border: 1px solid rgba(142, 162, 186, 0.35);
      background: rgba(255, 255, 255, 0.02);
      transition: border-color 120ms ease, transform 120ms ease;
    }

    .district-link:hover {
      border-color: rgba(102, 200, 255, 0.8);
      transform: translateY(-1px);
    }

    .district-link:focus-visible {
      outline: 1px solid rgba(255, 255, 255, 0.75);
      outline-offset: 4px;
    }

    .district-thumb {
      display: block;
      width: 100%;
      height: auto;
      object-fit: cover;
    }

    .actions {
      margin-top: 26px;
      display: flex;
      gap: 14px;
      flex-wrap: wrap;
      align-items: center;
    }

    .back {
      text-decoration: none;
      font-size: 13px;
      letter-spacing: 0.09em;
      text-transform: uppercase;
      font-weight: 700;
      color: #ffb066;
      border-bottom: 1px solid rgba(255, 176, 102, 0.55);
      padding-bottom: 3px;
    }

    .back:focus-visible {
      outline: 1px solid rgba(255, 255, 255, 0.75);
      outline-offset: 6px;
    }

    .viewer {
      display: none;
      padding: 0;
      min-height: 72vh;
    }

    .viewer.is-open {
      display: block;
    }

    .viewer-frame {
      width: 100%;
      min-height: 72vh;
      border: 0;
      display: block;
      background: #ffffff;
    }

    @media (max-width: 920px) {
      .layout {
        grid-template-columns: 1fr;
      }

      .logos {
        position: static;
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 10px;
        max-height: none;
        overflow: visible;
      }

      .logo {
        margin: 0;
      }

      .body {
        width: calc(100% - 24px);
        margin: 12px;
      }

      .district-panel {
        position: static;
        max-height: none;
        overflow: visible;
      }

      .district-links {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    @media (max-width: 560px) {
      .logos {
        grid-template-columns: 1fr;
      }

      .district-links {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="layout">
      <aside class="logos" aria-label="X-Topia Department Logos">
        <a class="logo-link is-active" href="#declaration" data-view="declaration">
          <img class="logo" src="images/logo gouv x-topia.png" alt="X-Topia government logo" />
        </a>
        <a class="logo-link" href="natality.html">
          <img class="logo" src="images/logo natality dept.png" alt="Natality Department logo" />
        </a>
        <a class="logo-link" href="immigration.html">
          <img class="logo" src="images/logo dept immigration.png?v=20260220" alt="Department of Immigration logo" />
        </a>
        <a class="logo-link" href="engineering.html">
          <img class="logo" src="images/logo dept of engineering.png" alt="Department of Engineering logo" />
        </a>
        <a class="logo-link" href="economy.html">
          <img class="logo" src="images/logo economy dept.png" alt="Economy Department logo" />
        </a>
        <a class="logo-link" href="defense.html">
          <img class="logo" src="images/logo defense authority.png" alt="Defense Authority logo" />
        </a>
      </aside>

      <main class="card">
        <section class="body">
          <h1>Declaration of X-Topia</h1>
          <p class="sub">Official Visitor Document</p>

          <p>X-Topia is a sovereign city-nation, independent from all external authority. Its legitimacy rests upon an act of exile and foundation carried out by the Five Founding Sisters, whose departure from the old world marked the birth of a new civil order.</p>
          <p>From that founding act emerged a nation structured not by accident, but by deliberate design. At the core of X-Topia stands the enduring symbol of Five. The Five Founding Sisters form the original nucleus of the political order, and their number shapes the very geometry of the city.</p>
          <p>Five circular districts compose the territorial structure, arranged according to the pattern of the Five. Each district maintains autonomous local administration while remaining aligned under a central authority that preserves national equilibrium.</p>
          <p>Full citizenship in X-Topia is reserved exclusively for women. Citizenship confers civic rights, political participation, access to resources, and full protection by the State. The city was conceived as a space of female sovereignty, and that principle remains immutable.</p>
          <p>The economy of X-Topia is designed around quality of life rather than productivity for its own sake. Citizen labor is limited. Automation and robotics perform the majority of industrial and logistical functions. Leisure time is not a luxury but a structural pillar of social balance.</p>
          <p>The rhythm of life is measured, intentional, and protected. Public surface life is governed by principles of calm, cleanliness, safety, and aesthetic harmony. The visible city reflects internal order. Laws regulate any action that threatens stability or collective coherence.</p>
          <p>Within this structure, one district is designated as a zone of extended bodily expression, including the freedom of public nudity. The remaining districts maintain clothing standards defined by their local councils. This differentiation reflects a broader philosophy: liberty exists within clearly defined boundaries.</p>
          <p>X-Topia formally acknowledges the existence of an underground cultural sphere. Social experimentation, private gatherings, and regulated substance use may occur within controlled frameworks. Such parallel expressions are tolerated so long as they do not endanger institutional stability or collective security.</p>
          <p>Technological systems related to reproduction and biological management are the exclusive property of the State. They are administered solely to ensure demographic continuity and long-term sustainability.</p>
          <p>Men do not possess citizenship status within X-Topia. Their presence within the territory is strictly regulated by the State for reproductive purposes only. They hold no political rights and do not participate in governance or collective decision-making.</p>
          <p>Above all, X-Topia prioritizes internal harmony and preservation. Collective stability takes precedence over individual impulse. Peace, structural coherence, and continuity form the foundation of its political philosophy.</p>
          <p>Constitutional modification requires unanimity of the Council of Five, or its legitimate institutional successor. The founding principle, exclusive female citizenship within the city, cannot be repealed.</p>
          <p>X-Topia may admit female immigrants from outside its territory, but admission is a privilege, not a right. Candidates undergo a rigorous process of selection, evaluation, and integration overseen by the State.</p>
          <p>Admission requires explicit recognition of X-Topia's absolute sovereignty, acceptance of exclusive female citizenship, adherence to its principles of stability and order, and renunciation of any foreign political allegiance. A probationary period follows entry, during which social, cultural, and ideological integration is assessed.</p>
          <p>The State retains the authority to revoke admission in cases of non-conformity. Full citizenship is granted only upon complete validation and central approval. X-Topia stands as a deliberately engineered civilization: structured, balanced, sovereign, born from exile, sustained by order, and shaped by Five.</p>

          <div class="actions">
            <a class="back" href="index.html">Back To The Frontier Gate</a>
          </div>
        </section>

        <section class="viewer" id="viewer" aria-live="polite">
          <iframe
            id="contentFrame"
            class="viewer-frame"
            title="Visitor linked page"
            loading="lazy"
            referrerpolicy="no-referrer"
            scrolling="no"
          ></iframe>
        </section>
            </main>

      <aside class="district-panel" aria-label="District links">
        <div class="district-links">
          <a class="district-link" href="arch.html">
            <img class="district-thumb" src="images/the_frontier_gate_day.png" alt="The Frontier Gate" />
          </a>
          <a class="district-link" href="apex.html">
            <img class="district-thumb" src="images/the_apex_district.png" alt="The Apex District" />
          </a>
          <a class="district-link" href="garden.html">
            <img class="district-thumb" src="images/the_garden_district.png" alt="The Garden District" />
          </a>
          <a class="district-link" href="crucible.html">
            <img class="district-thumb" src="images/the_crucible_district .png" alt="The Crucible District" />
          </a>
          <a class="district-link" href="citadel.html">
            <img class="district-thumb" src="images/the_citadel_district.png" alt="The Citadel District" />
          </a>
        </div>
      </aside>
    </div>
  </div>
  <script>
    (function () {
      const logoLinks = document.querySelectorAll(".logo-link[href]");
      const body = document.querySelector(".body");
      const viewer = document.getElementById("viewer");
      const frame = document.getElementById("contentFrame");

      if (!logoLinks.length || !body || !viewer || !frame) {
        return;
      }

      function openInViewer(link) {
        const href = link.getAttribute("href");
        if (!href) return;

        frame.src = href;
        body.style.display = "none";
        viewer.classList.add("is-open");

        logoLinks.forEach((item) => item.classList.remove("is-active"));
        link.classList.add("is-active");
      }

      function resizeFrameToContent(retries = 8) {
        try {
          const doc = frame.contentDocument || frame.contentWindow.document;
          if (!doc) return;
          const bodyEl = doc.body;
          const htmlEl = doc.documentElement;
          const height = Math.max(
            bodyEl ? bodyEl.scrollHeight : 0,
            bodyEl ? bodyEl.offsetHeight : 0,
            bodyEl ? bodyEl.clientHeight : 0,
            htmlEl ? htmlEl.scrollHeight : 0,
            htmlEl ? htmlEl.offsetHeight : 0,
            htmlEl ? htmlEl.clientHeight : 0
          );
          if (height > 0) {
            frame.style.height = `${height}px`;
          }
        } catch (error) {
          // Ignore cross-origin access failures.
        }

        if (retries > 0) {
          window.setTimeout(() => resizeFrameToContent(retries - 1), 150);
        }
      }

      function showDeclaration() {
        frame.removeAttribute("src");
        viewer.classList.remove("is-open");
        body.style.display = "";
        logoLinks.forEach((item) => item.classList.remove("is-active"));
      }

      logoLinks.forEach((link) => {
        link.addEventListener("click", (event) => {
          event.preventDefault();
          if (link.dataset.view === "declaration") {
            showDeclaration();
            link.classList.add("is-active");
            return;
          }
          openInViewer(link);
        });
      });

      frame.addEventListener("load", () => resizeFrameToContent());
      window.addEventListener("resize", () => resizeFrameToContent(2));
      window.addEventListener("message", (event) => {
        if (event.source !== frame.contentWindow) {
          return;
        }

        const data = event.data;
        if (!data || data.type !== "xtopia-frame-height") {
          return;
        }

        const height = Number(data.height);
        if (Number.isFinite(height) && height > 0) {
          frame.style.height = `${Math.ceil(height)}px`;
        }
      });
    })();
  </script>
</body>
</html>
